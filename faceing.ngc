%
(Smooth facing operation)

#<X> = 400
#<Y> = 200
#<TOOL_DIAMETER> = 6
#<MAX_STEPOVER> = 2
#<SAFE_HEIGHT> = 20
#<RPM> = 23000
#<FEED> = 2000

(Calculate the number of cuts)
#<NUM_CUTS> = FUP[#<Y> / #<MAX_STEPOVER>]
#<STEPOVER> = [#<Y> / #<NUM_CUTS>]
#<Y_POSITION> = [#<TOOL_DIAMETER> / 2 - #<STEPOVER>]

G21 (G21: sets the machine to use metric units for all subsequent commands)
G40 (G40: cancels any previously set cutter radius compensation and sets the tool offset to zero.)
G49 (G49: cancels any previously set tool length offset.)
G64 P0.03 (G64 P0.03: sets the motion control to a blended path with a maximum deviation of 0.03 mm from the programmed path.)
G17 (G17: selects the XY plane for cutting. This code specifies that all subsequent X, Y, and Z coordinates are given in a plane parallel to the XY plane.)

G0 Z20.0 (move the spindle up so we don't hit anything)
G0 X[#<X> + #<TOOL_DIAMETER> / 2 + 10] Y-10
S[#<RPM>] M3 

#1 = 0 (assign parameter #1 the value of 0)
F25 (set a feed rate)
o101 while [#<NUM_CUTS> GT 0]
  G1 X0
  G1 Y[#1/10] X1
  #1 = [#1+1] (increment the test counter)
o101 endwhile
M2 (end program)
%